---
title: "Aimi stuff"
format: pdf
editor: visual
---

```{r}
men_country = c("CHN", "JPN", "GBR", "USA", "CAN", "GER", "ITA", "SUI", "ESP", "TUR", "NED", "UKR")
```

```{r}
women_country = c("USA", "GBR", "CAN", "CHN", "BRA", "ITA", "NED", "FRA", "JPN", "AUS", "ROU", "KOR")
```

```{r}
world_elites_male <- df_men_c %>%
  filter(competition_scope == "World")%>%
  filter(Round != "TeamFinal")%>%
  filter(Round != "TeamQual")%>%
  filter(Rank <= 10)%>%
  distinct(clean_name, clean_country)
```

```{r}
other_elites_male <- df_men_c %>%
  filter(competition_scope != "World")%>%
  filter(Round != "TeamFinal")%>%
  filter(Round != "TeamQual")%>%
  filter(Rank <= 3)%>%
  distinct(clean_name, clean_country)

```

```{r}
all_elites_male <- full_join(world_elites_male, other_elites_male, by = c("clean_name", "clean_country"))
```

```{r}
all_elites_male%>%
  group_by(clean_country)%>%
  count()%>%
  filter(n>=5)%>%
  arrange(desc(n))
```

```{r}
all_elites_male%>%
  filter(clean_country == "USA") %>%
  distinct(clean_name)
```

```{r}
simulate_score_m <- function(athlete, event) {
  athlete_data<-df_men_c%>%
    filter(clean_name == athlete, Apparatus == event)
  indices <- sample(1:nrow(athlete_data), 5, replace = T)
  boot_mean <- athlete_data%>%
    slice(indices)%>%
    summarize(boot_mean = mean(Score))%>%
    pull()
  return(boot_mean)
}
```
