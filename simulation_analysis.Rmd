---
title: "simulation_analysis"
output: pdf_document
date: "2023-11-01"
---

```{r}
library(knitr)
```

```{r}

women_sims <- readRDS("~/gym2024data/simulations_Aimi.rds")
men_sims <- readRDS("~/gym2024data/simulations_m_katie.rds")

women_sims2 <- readRDS("~/gym2024data/simulations_seed7.rds")

women_sims3 <- readRDS("~/gym2024data/simulations_Aimi_seed5.rds")

```

```{r}

men_sims_for_second = men_sims[-1]

max_medals = -1
max_sim_index = -1

for (i in seq_along(men_sims_for_second)){
  summaryTeam <- men_sims_for_second[[i]]@teamSummary
  USA_medals <- summaryTeam$total_medals[summaryTeam$clean_country == "USA"]
  
  if (USA_medals>max_medals){
    max_medals <- USA_medals
    max_sim_index <- i
  }
}

second_USA_sim <- men_sims_for_second[[max_sim_index]]@teamSummary
print(second_USA_sim$athletes[second_USA_sim$clean_country == "USA"])

```

```{r}
# top US simulations for men

USA_medals_m <- vector("list", length = 5000)

for (i in seq_along(USA_medals_m)) {
  summaryTeam <- men_sims[[i]]@teamSummary
  USA_medals_m[i] <- summaryTeam$total_medals[summaryTeam$clean_country == "USA"]
}

USA_medals_m = unlist(USA_medals_m)

top_indices <- order(USA_medals_m, decreasing = TRUE)[1:10]
top_indices

```

```{r}

first_medals_m <- men_sims[[779]]@teamSummary
first_team_usa_m <- first_medals_m$athletes[first_medals_m$clean_country == "USA"]
first_medals_m
```

```{r}

# top US simulations for women

USA_medals_w <- vector("list", length = 5000)

for (i in seq_along(USA_medals_w)) {
  summaryTeam <- women_sims[[i]]@teamSummary
  USA_medals_w[i] <- summaryTeam$total_medals[summaryTeam$clean_country == "USA"]
}

USA_medals_w = unlist(USA_medals_w)

top_indices <- order(USA_medals_w, decreasing = TRUE)[1:10]
top_indices

```

```{r}

first_medals_w <- women_sims[[3864]]@teamSummary
first_team_usa_w <- first_medals_w$athletes[first_medals_w$clean_country == "USA"]
first_medals_w
```



```{=latex}

\newcommand{\highlight}[1]{\colorbox{yellow}{#1}}

\begin{table}[htbp]
  \caption{Men's Artistic Gymnastics - Best Simulated Outcome for Team USA}
  \medskip
  \small
  \begin{tabular}{l|l|l|l}
    \multicolumn{1}{c}{\textbf{Event}} & \multicolumn{1}{c}{\textbf{Gold}} & \multicolumn{1}{c}{\textbf{Silver}} & \multicolumn{1}{c}{\textbf{Bronze}} \\
    \hline
    Team All-Around & \highlight{USA} & China & Switzerland \\
    \hline
    Individual All-Around & \highlight{USA (Brody Malone)} & China (Boheng Zhang) & China (Wei Sun) \\
    \hline
    Vault & Armenia (Artur Davtyan) & Philippines (Carlos Yulo) & Great Britain (Luke Whitehouse) \\
    \hline
    Still Rings & \highlight{USA (Javier Alfonso)} & \highlight{USA (Brody Malone)} & Italy (Salvatore Maresca) \\
    \hline
    Pommel Horse & Chinese Taipei (Chih Lee) & Kazakhstan (Nariman Kurbanov) & Uzbekistan (Abdulla Azimov) \\
    \hline
    Parallel Bars & China (Jingyuan Zou) & \highlight{USA (Curran Phillips)} & Switzerland (Noe Seifert) \\
     \hline
    High Bar & \highlight{USA (Frederick Richard)} & Kazakhstan (Ilyas Azizov) & \highlight{USA (Brody Malone)} \\
    \hline
    Floor Exercise & \highlight{USA (Brody Malone)} & Israel (Artem Dolgopyat) & India (Satyajit Mondal) \\

  \end{tabular}
  
  \label{tab:gymnastics_medals}
\end{table}

  \small
  \textbf{Team USA Athletes: Brody Malone, Javier Alfonso, Curran Phillips, Frederick Richard, Joshua Karnes} \\
  \textbf{Team USA Medal Count:} 8 \\
  \textbf{Team USA Weighted Medal Count:} 20 (where Gold = 3, Silver = 2, Bronze = 1) \\
  \textbf{Team USA Medal Breakdown:} 5 Gold, 2 Silver, 1 Bronze
```


```{=latex}

\begin{table}[htbp]
  \caption{Women's Artistic Gymnastics - Best Simulated Outcome for Team USA}
  \medskip
  \small
  \begin{tabular}{l|l|l|l}
    \multicolumn{1}{c}{\textbf{Event}} & \multicolumn{1}{c}{\textbf{Gold}} & \multicolumn{1}{c}{\textbf{Silver}} & \multicolumn{1}{c}{\textbf{Bronze}} \\
    \hline
    Team All-Around & \highlight{USA} & Brazil & China \\
    \hline
    Individual All-Around & \highlight{USA (Simone Biles)} & Brazil (Rebeca Andrade) & \highlight{USA (Konnor McClain)} \\
    \hline
    Balance Beam & \highlight{USA (Konnor McClain)} & \highlight{USA (Simone Biles)} & China (Qingying Zhang) \\
    \hline
    Vault & \highlight{USA (Jade Carey)} & \highlight{USA (Simone Biles)} & South Korea (Seojeong Yeo) \\
    \hline
    Floor Exercise & \highlight{USA (Simone Biles)} & \highlight{USA (Jade Carey)} & Brazil (Rebeca Andrade) \\
    \hline
    Uneven Bars & Algeria (Kaylia Nemour) & Russia (Viktoria Listunova) & \highlight{USA (Shilese Jones)} \\

  \end{tabular}
  
  \label{tab:gymnastics_medals}
\end{table}

  \small
  \textbf{Team USA Athletes: Simone Biles, Shilese Jones, Karis German, Konnor McClain, Jade Carey} \\
  \textbf{Team USA Medal Count:} 10 \\
  \textbf{Team USA Weighted Medal Count:} 23 (where Gold = 3, Silver = 2, Bronze = 1) \\
  \textbf{Team USA Medal Breakdown:} 5 Gold, 3 Silver, 2 Bronze
```


