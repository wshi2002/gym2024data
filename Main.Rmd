---
title: "**Case Study 2: Paris 2024 Team USA Olympics Gymnastics Team**"
author: "Aimi Wen, Katie Nash, Nidhi Dhupati, Wendy Shi"
output: 
  pdf_document:
    fig_caption: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```


```{r, include = FALSE}
# load in libraries
package_list <- c("tidyverse", "vroom", "stringr", "dplyr", "ggsci")

# load in packages
for (package_name in package_list) {
  if (!requireNamespace(package_name, quietly = TRUE)) {
    install.packages(package_name)
  }
  library(package_name, character.only = TRUE)
}

# load in data
df <- vroom("cleandata/data_2022_2023.csv")


```

```{r, include = FALSE}
# Clean up names to make sure there is unique name for each athlete.
# taking the first 'word' of the names to simplify
df <- df%>%
  mutate(first_name_only = word(FirstName, 1)) %>%
  mutate(last_name_only = word(LastName, 1))

# standardizing countries. Ex know Scotland and Wales all compete with England as Great Britain.
df_c <- df %>%
  mutate(
    clean_country = case_when(Country == "SCO" ~ "GBR", 
                              Country == "ENG" ~ "GBR", 
                              Country == "WAL" ~ "GBR",
                              Country == "SIN" ~ "SIG", 
                              Country == "GE1" ~ "GER", 
                              Country == "GE2" ~ "GER", 
                              Country == "NIR" ~ "GBR",
                              Country == "IOM" ~ "GBR", 
                              Country == "PUR" ~ "USA",
                              TRUE ~ Country
      
    )
  )

# Simplifying accents in names and dashes
replace_letters <- function(name){
  name <- gsub("Ö", "OE", name)
  name <- gsub("Ü", "U", name)
  name <- gsub("Ø", "O", name)
  name <- sub("-.*", "", name)
  name <- gsub("Ä", "AE", name)
  return(name)
}

standardize <- function(name){
  name <- iconv(name, "UTF-8", "ASCII//TRANSLIT")
  return (name)
}

# Applying accent cleaning function to dataframe's name columns.
df_c$first_name_only <- lapply(df_c$first_name_only, replace_letters)
df_c$last_name_only <- lapply(df_c$last_name_only, replace_letters)

df_c$first_name_only <- lapply(df_c$first_name_only, standardize)
df_c$last_name_only <- lapply(df_c$last_name_only, standardize) 


# mutate to create name variable comprising of both first and last name
df_c <- df_c %>%
  mutate(name = paste(first_name_only, last_name_only))

# Separating into two dataset of men and women's gymnastics
df_men_c <- df_c%>%
  filter(Gender == "m")

df_women_c <- df_c%>%
  filter(Gender == "w")

  
```

```{r, include = FALSE}
# Manual cleaning done on name for women's data
df_women_c <- df_women_c %>%
  mutate(
    clean_name = case_when(
      name == "Anna KONIG" ~ "Anna KOENIG",
      name == "Aberdeen O" ~ "Aberdeen O'DRISCOL", 
      name == "Christina KIOSO" ~ "Christina VASILOPOULOU",
      name == "Korkem YEROBSSYNKYZY" ~ "Korkem YERBOSSYNKYZY",
      name == "Larasati REGGANIS" ~ "Larasati RENGGANIS", 
      name == "Liu MAI" ~ "Mai LIU" ,
      name == "Melanie DE" ~ "Melanie DE JESUS", 
      name == "Melanie JESUS" ~ "Melanie DE JESUS", 
      name == "Milka ELPITIYA" ~ "Milka GEHANI", 
      name == "NA ELPITIYA" ~ "Milka GEHANI", 
      name == "Nika KUKULJAN" ~ "Nika FRLETA", 
      name == "Olivia MAFES" ~ "Olivia Kelly", 
      name == "Ruby EVAN" ~ "Ruby EVANS", 
      name == "Sasiwimion MUEANGPHUAN" ~ "Sasiwimon MUEANGPHUAN", 
      name == "Shade OORSCHOT" ~ "Shade VAN OORSCHOT",
      name == "Shade VAN" ~ "Shade VAN OORSCHOT", 
      name == "Vera VAN" ~ "Vera VAN POL", 
      name == "Vera POL"  ~ "Vera VAN POL", 
      name == "Wong VANESSA" ~ "Vanessa WONG", 
      name == "Zeina SHARAF" ~ "Zeina IBRAHIM", 
      name == "NA JESUS" ~ "Melanie DE JESUS",
      TRUE ~ name
    )
  )

# Manual cleaning done on country specifications for women's data
df_women_c <- df_women_c %>%
  mutate(
    clean_country = ifelse(clean_name == "Teja BELAK", "SLO", clean_country), 
    clean_country = ifelse(clean_name == "Naveen DARIES", "RSA", clean_country), 
    clean_country = ifelse(clean_name == "Madeleine MARSHALL", "NZL", clean_country)
  )

df_women_c <- df_women_c %>%
  filter(!is.na(first_name_only))

numeric_columns <- sapply(df_women_c, is.numeric)
df_women_c[numeric_columns][is.na(df_women_c[numeric_columns])] <- 0
```

```{r , include = FALSE}
# Manual cleaning done on name for men's data
df_men_c <- df_men_c %>%
  mutate(
    clean_name = case_when(
      name == "Mc ATEER" ~ "Ewan MCATEER",
      name == "Ewan MC" ~ "Ewan MCATEER", 
      name == "Mc CLENAGHAN" ~ "Rhys MCCLENAGHAN",
      name == "Rhys MC" ~ "Rhys MCCLENAGHAN",
      name == "Samual DICK" ~ "Samuel DICK",
      name == "William FU" ~ "William FUALLEN",
      name == "Jermain GRUNBERG" ~ "Jermain GRUENBERG", 
      name == "Rakah HARITHI" ~ "Rakan HARITHI",
      name == "Vinzenz HOCK" ~ "Vinzenz HOECK",
      name == "VInzenz HOECK" ~ "Vinzenz HOECK",
      name == "Mohamad KHALIL" ~ "Mohamed KHALIL",
      name == "Severin KRANZLMULLER" ~ "Severin KRANZLMUELLER",
      name == "NA KUMARASINGHEGE" ~ "Hansha KUMARASINGHEGE",
      name == "Manuel MARTINEZ" ~ "Jose MARTINEZ",
      name == "Felipe MARTINEZ" ~ "Andres MARTINEZ",
      name == "Clay MASON" ~ "Clay MASONSTEPHENS",
      name == "Dimitrijs MICKEVICS" ~ "Dmitrijs MICKEVICS",
      name == "Dmitry PATANIN" ~ "Dmitriy PATANIN",
      name == "NA SOUZA" ~ "Caio SOUZA",
      name == "Jann TIMBANG" ~ "Jan TIMBANG",
      name == "Kim VANSTROM" ~ "Kim VANSTROEM",
      name == "Sam ZAKUTNEY" ~ "Samuel ZAKUTNEY",
      TRUE ~ name
    )
  )

# Manual cleaning done on country specifications for men's data
df_men_c <- df_men_c %>%
  mutate(
    clean_country = ifelse(clean_name == "Ewan MCATEER", "IRL", clean_country), 
    clean_country = ifelse(clean_name == "Rhys MCCLENAGHAN", "IRL", clean_country), 
    clean_country = ifelse(clean_name == "Dominick CUNNINGHAM", "IRL", clean_country),
    clean_country = ifelse(clean_name == "Eamon MONTGOMERY", "IRL", clean_country),
    clean_country = ifelse(clean_name == "NIkita SIMONOV", "AZE", clean_country)
  )

df_men_c <- df_men_c %>%
  filter(!is.na(first_name_only))

numeric_columns <- sapply(df_men_c, is.numeric)
df_men_c[numeric_columns][is.na(df_men_c[numeric_columns])] <- 0

```

```{r, include = FALSE}
df_men_names <- df_men_c %>%
  distinct(last_name_only, first_name_only, clean_country, name)

```

```{r ordering-competitions-women, include = FALSE}

unique(df_women_c$Competition)

df_women_c <- df_women_c %>%
  mutate(competition_number = case_when(
    Competition == "2022 Cottbus World Cup" ~ "1",
    Competition == "2022 Winter Cup" ~ "2",
    Competition == "2022 Doha World Cup" ~ "3",
    Competition == "2022 Cairo World Cup" ~ "4",
    Competition == "2022 British Gymnastics Championships" ~ "5",
    Competition == "2022 Varna World Challenge Cup" ~ "6",
    Competition == "2022 Baku World Cup" ~ "7",
    Competition == "2022 Osijek World Challenge Cup" ~ "8",
    Competition == "2022 9th Senior Artistic Gymnastics Asian Championships" ~ "9",
    Competition == "2022 Koper World Challenge Cup" ~ "10",
    Competition == "2022 U.S. Classic" ~ "11",
    Competition == "BIRMINGHAM 2022 Commonwealth Games" ~ "12",
    Competition == "2022 Senior European Championships" ~ "13",
    Competition == "2022 U.S. Championships" ~ "14",
    Competition == "2022 Paris World Challenge Cup" ~ "15",
    Competition == "2022 Szombathely World Challenge Cup" ~ "16",
    Competition == "2022 Mersin World Challenge Cup" ~ "17",
    Competition == "2022 51st FIG Artistic Gymnastics World Championships" ~ "18",
    Competition == "2023 Cottbus World Cup" ~ "19",
    Competition == "2023 Winter Cup" ~ "20",
    Competition == "2023 Doha World Cup" ~ "21",
    Competition == "2023 Baku World Cup" ~ "22",
    Competition == "EnBW DTB Pokal Team Challenge 2023" ~ "23",
    Competition == "2023 British Gymnastics Championships" ~ "24",
    Competition == "2023 Senior European Championships" ~ "25",
    Competition == "2023 Cairo World Cup" ~ "26",
    Competition == "2023 Varna World Challenge Cup" ~ "27",
    Competition == "2023 Artistic Gymnastics Senior Pan American Championships" ~ "28",
    Competition == "2023 Tel Aviv World Challenge Cup" ~ "29",
    Competition == "2023 Osijek World Challenge Cup" ~ "30",
    Competition == "2023 10th Senior Artistic Gymnastics Asian Championships" ~ "31",
    Competition == "2023 Central American and Caribbean Games" ~ "32",
    Competition == "2023 FISU World University Games" ~ "33",
    Competition == "2023 Core Hydration Classic" ~ "34",
    Competition == "2023 U.S. Championships" ~ "35",
    Competition == "2023 52nd FIG Artistic Gymnastics World Championships" ~ "36",
    TRUE ~ "Other"
  ))

df_women_c = df_women_c %>%
  mutate(competition_number = as.numeric(competition_number))

```

```{r categorizing-competitions-women, include = FALSE}

df_women_c <- df_women_c %>%
  mutate(competition_scope = case_when(
    Competition == "2022 Cottbus World Cup" ~ "World",
    Competition == "2022 Winter Cup" ~ "USA",
    Competition == "2022 Doha World Cup" ~ "World",
    Competition == "2022 Cairo World Cup" ~ "World",
    Competition == "2022 British Gymnastics Championships" ~ "non-USA",
    Competition == "2022 Varna World Challenge Cup" ~ "World",
    Competition == "2022 Baku World Cup" ~ "World",
    Competition == "2022 Osijek World Challenge Cup" ~ "World",
    Competition == "2022 9th Senior Artistic Gymnastics Asian Championships" ~ "non-USA",
    Competition == "2022 Koper World Challenge Cup" ~ "World",
    Competition == "2022 U.S. Classic" ~ "USA",
    Competition == "BIRMINGHAM 2022 Commonwealth Games" ~ "non-USA",
    Competition == "2022 Senior European Championships" ~ "non-USA",
    Competition == "2022 U.S. Championships" ~ "USA",
    Competition == "2022 Paris World Challenge Cup" ~ "World",
    Competition == "2022 Szombathely World Challenge Cup" ~ "World",
    Competition == "2022 Mersin World Challenge Cup" ~ "World",
    Competition == "2022 51st FIG Artistic Gymnastics World Championships" ~ "World",
    Competition == "2023 Cottbus World Cup" ~ "World",
    Competition == "2023 Winter Cup" ~ "USA",
    Competition == "2023 Doha World Cup" ~ "World",
    Competition == "2023 Baku World Cup" ~ "World",
    Competition == "EnBW DTB Pokal Team Challenge 2023" ~ "World",
    Competition == "2023 British Gymnastics Championships" ~ "non-USA",
    Competition == "2023 Senior European Championships" ~ "non-USA",
    Competition == "2023 Cairo World Cup" ~ "World",
    Competition == "2023 Varna World Challenge Cup" ~ "World",
    Competition == "2023 Artistic Gymnastics Senior Pan American Championships" ~ "USA",
    Competition == "2023 Tel Aviv World Challenge Cup" ~ "World",
    Competition == "2023 Osijek World Challenge Cup" ~ "World",
    Competition == "2023 10th Senior Artistic Gymnastics Asian Championships" ~ "non-USA",
    Competition == "2023 Central American and Caribbean Games" ~ "non-USA",
    Competition == "2023 FISU World University Games" ~ "USA",
    Competition == "2023 Core Hydration Classic" ~ "USA",
    Competition == "2023 U.S. Championships" ~ "USA",
    Competition == "2023 52nd FIG Artistic Gymnastics World Championships" ~ "World",
    TRUE ~ "Other"
  ))

```

```{r ordering-competitions-men, include = FALSE}

df_men_c <- df_men_c %>%
  mutate(competition_number = case_when(
    Competition == "2022 Cottbus World Cup" ~ "1",
    Competition == "2022 Winter Cup" ~ "2",
    Competition == "2022 Doha World Cup" ~ "3",
    Competition == "2022 Cairo World Cup" ~ "4",
    Competition == "2022 British Gymnastics Championships" ~ "5",
    Competition == "2022 Varna World Challenge Cup" ~ "6",
    Competition == "2022 Baku World Cup" ~ "7",
    Competition == "2022 Osijek World Challenge Cup" ~ "8",
    Competition == "2022 9th Senior Artistic Gymnastics Asian Championships" ~ "9",
    Competition == "2022 Koper World Challenge Cup" ~ "10",
    Competition == "2022 U.S. Classic" ~ "11",
    Competition == "BIRMINGHAM 2022 Commonwealth Games" ~ "12",
    Competition == "2022 Senior European Championships" ~ "13",
    Competition == "2022 U.S. Championships" ~ "14",
    Competition == "2022 Paris World Challenge Cup" ~ "15",
    Competition == "2022 Szombathely World Challenge Cup" ~ "16",
    Competition == "2022 Mersin World Challenge Cup" ~ "17",
    Competition == "2022 51st FIG Artistic Gymnastics World Championships" ~ "18",
    Competition == "2023 Cottbus World Cup" ~ "19",
    Competition == "2023 Winter Cup" ~ "20",
    Competition == "2023 Doha World Cup" ~ "21",
    Competition == "2023 Baku World Cup" ~ "22",
    Competition == "EnBW DTB Pokal Team Challenge 2023" ~ "23",
    Competition == "2023 British Gymnastics Championships" ~ "24",
    Competition == "2023 Senior European Championships" ~ "25",
    Competition == "2023 Cairo World Cup" ~ "26",
    Competition == "Oceania Continental Championships 2023" ~ "27",
    Competition == "2023 Varna World Challenge Cup" ~ "28",
    Competition == "2023 Artistic Gymnastics Senior Pan American Championships" ~ "29",
    Competition == "2023 Tel Aviv World Challenge Cup" ~ "30",
    Competition == "2023 Osijek World Challenge Cup" ~ "31",
    Competition == "2023 10th Senior Artistic Gymnastics Asian Championships" ~ "32",
    Competition == "2023 Central American and Caribbean Games" ~ "33",
    Competition == "2023 FISU World University Games" ~ "34",
    Competition == "2023 Core Hydration Classic" ~ "35",
    Competition == "2023 U.S. Championships" ~ "36",
    Competition == "2023 52nd FIG Artistic Gymnastics World Championships" ~ "37",
    TRUE ~ "Other"
  ))

df_men_c = df_men_c %>%
  mutate(competition_number = as.numeric(competition_number))

```

```{r categorizing-competitions-men, include = FALSE}

df_men_c <- df_men_c %>%
  mutate(competition_scope = case_when(
    Competition == "2022 Cottbus World Cup" ~ "World",
    Competition == "2022 Winter Cup" ~ "USA",
    Competition == "2022 Doha World Cup" ~ "World",
    Competition == "2022 Cairo World Cup" ~ "World",
    Competition == "2022 British Gymnastics Championships" ~ "non-USA",
    Competition == "2022 Varna World Challenge Cup" ~ "World",
    Competition == "2022 Baku World Cup" ~ "World",
    Competition == "2022 Osijek World Challenge Cup" ~ "World",
    Competition == "2022 9th Senior Artistic Gymnastics Asian Championships" ~ "non-USA",
    Competition == "2022 Koper World Challenge Cup" ~ "World",
    Competition == "2022 U.S. Classic" ~ "USA",
    Competition == "BIRMINGHAM 2022 Commonwealth Games" ~ "non-USA",
    Competition == "2022 Senior European Championships" ~ "non-USA",
    Competition == "2022 U.S. Championships" ~ "USA",
    Competition == "2022 Paris World Challenge Cup" ~ "World",
    Competition == "2022 Szombathely World Challenge Cup" ~ "World",
    Competition == "2022 Mersin World Challenge Cup" ~ "World",
    Competition == "2022 51st FIG Artistic Gymnastics World Championships" ~ "World",
    Competition == "2023 Cottbus World Cup" ~ "World",
    Competition == "2023 Winter Cup" ~ "USA",
    Competition == "2023 Doha World Cup" ~ "World",
    Competition == "2023 Baku World Cup" ~ "World",
    Competition == "EnBW DTB Pokal Team Challenge 2023" ~ "World",
    Competition == "2023 British Gymnastics Championships" ~ "non-USA",
    Competition == "2023 Senior European Championships" ~ "non-USA",
    Competition == "2023 Cairo World Cup" ~ "World",
    Competition == "Oceania Continental Championships 2023" ~ "non-USA",
    Competition == "2023 Varna World Challenge Cup" ~ "World",
    Competition == "2023 Artistic Gymnastics Senior Pan American Championships" ~ "USA",
    Competition == "2023 Tel Aviv World Challenge Cup" ~ "World",
    Competition == "2023 Osijek World Challenge Cup" ~ "World",
    Competition == "2023 10th Senior Artistic Gymnastics Asian Championships" ~ "non-USA",
    Competition == "2023 Central American and Caribbean Games" ~ "non-USA",
    Competition == "2023 FISU World University Games" ~ "USA",
    Competition == "2023 Core Hydration Classic" ~ "USA",
    Competition == "2023 U.S. Championships" ~ "USA",
    Competition == "2023 52nd FIG Artistic Gymnastics World Championships" ~ "World",
    TRUE ~ "Other"
  ))

```


# Introduction


### Background Information

The Olympic Games are an international multi-sport event held every four years, and are largely considered to be the most prestigious sporting competition in the world. These Games are therefore a popular spectator event across the world, with an average viewership of more than 15 million people in past years [1].
The 2024 Olympic Games will be held in Paris, France, and will include both a Men’s and Women’s Artistic Gymnastics event. Winning a medal in an Olympic gymnastics event is an honor for both the individual athlete and for the country that athlete represents; the medal brings a sense of national pride to citizens across the country and promotes the global recognition of the winning country. The USA is known for its men and women gymnastics teams, which have consistently earned medals in past Olympic games. Because of the high honor and importance of upholding the legacy of the United States in these competitions, it is important to carefully select the men and women that will represent our country as Team USA. The importance of and interest surrounding the Olympics provides a rich foundation for analytics and statistical interpretations of the athletes in the competitions, as well as predictions about who will represent Team USA in the many Olympic sports. There have already been analyses, published in major news outlets, about who Team USA will consist of for non-gymnastics sports in 2024 [2]. The objective of this project is to extend this analysis to the Artistic Gymnastics events, and to select the 5 athletes for each of the men’s and women’s events that will optimize performance for Team USA.

The format of the Olympic Artistic Gymnastics event includes a qualifying round and final round. Scores from qualifying rounds do not impact medal determinations, but rather decide which athletes advance to the finals. The final round, which is what determines medal placements, consists of team all-around, individual all-around, and individual apparatus events. Men’s opportunities for medals are: 1) team all-around, 2) individual all-around, 3) floor exercise, 4) pommel horse, 5) still rings, 6) vault, 7) parallel bars, and 8) high bar. Women’s opportunities for medals are: 1) team all-around, 2) individual all-around, 3) vault, 4) uneven bars, 5) balance beam, and 6) floor exercise. The athletes representing Team USA will compete in a pool of 96 men and 96 women, which will include teams of five from other countries as well as the option for individual entries for countries without full team qualifications.

Our hypothesis is:

* Who are the 5 men and 5 women who can make Team USA achieve the highest level of success at the Paris 2024 Artistic Gymnastics Event?


### Data Description

Gymnastics competitions from 2017-2023 were included in the dataset. These competitions were split into two separate datasets by the seasons leading up to the 2021 Tokyo Games and the seasons leading up to the 2024 Paris Games (the 2022 and 2023 seasons). Competitions were included from around the globe, including world competitions, non-world competitions that included the United States as a competitor, and non-world competitions that did not include the United States as a competitor.
The competition data included scoring information, athlete names, athlete demographic information, and athlete scores. Each entry in the dataset is one event from one athlete, which includes the country affiliation of the athlete, the competition and competition location, the difficulty, execution, penalty, and overall scores, the apparatus that the athlete competed on, and their ranking.
Additionally, the countries who qualified as a team, which are the countries that will be allowed to compete in the Team All-Around event for the men’s and women’s Olympic events, were provided. 
The dataset we used for analysis was last synced with the central repository on November 2nd.


### EDA - separated by type of visualization, not gender

```{r diff-quali-v-final-vis-women, fig.cap="Distribution of the Difficulty Score by Round and Apparatus for Women"}

ggplot(data = df_women_c, aes(y = D_Score, fill = Round))+
  geom_boxplot()+
  facet_wrap(.~Apparatus) +
  theme_light()+
  scale_fill_aaas()+  
  labs(
    #title = "Distribution of the Difficulty Score by Round and Apparatus",
   # subtitle = "For Women",
    fill = "Round",
    y = "Difficulty Score"
  )


```

```{r diff-world-v-nonworld-vis-women, fig.cap="Distribution of Difficulty scores by the Scope of Competition and Apparatus for Women"}

ggplot(data = df_women_c, aes(y = D_Score, fill = competition_scope))+
  geom_boxplot()+
  facet_wrap(.~Apparatus)+
  theme_light()+
  scale_fill_aaas()+
  labs(
    fill = "Competition Scope", 
    y = "Difficulty Score"
  )
```

```{r Score-world-v-nonworld-vis-women, fig.cap="Distribution of Scores by Scope of Competition and Apparatus for Women"}

ggplot(data = df_women_c, aes(y = Score, fill = competition_scope))+
  geom_boxplot()+
  facet_wrap(.~Apparatus)+
  theme_light()+
  scale_fill_aaas()+
  labs(
    fill = "Competition Scope"
  )
```

showing that most penalties are near 0:
For both men's and women's competitions, the 95th percentile for the penalties is less than 0.5 (it is 0.5 for men and 0.4 for women). This means that 95% of penalties for both genders are not more than 0.5. The visualizations show that this does not change drastically based on the scope of the competition.
Additionally, since the 51st percentile of penalties for both genders is 0.1, this means that the majority of entries had a penalty score of 0.1 or less.
```{r penalty-dist-women, fig.cap="Distribution of Penalties by competition scope for Women"}

# for women
#quantile(as.numeric(df_women_c$Penalty), 0.95, na.rm = TRUE)
#quantile(as.numeric(df_women_c$Penalty), 0.51, na.rm = TRUE)

ggplot(data = df_women_c, aes(x = Penalty)) +
  geom_histogram(bins = 30) +
  facet_wrap(~ competition_scope) +
  labs(title = "Penalty Distribution for Women Athletes",
       x = "Penalty",
       y = "Count") +
  theme_light() +
  scale_color_aaas()

```

```{r penalty-dist-men, fig.cap="Distribution of Penalties by competition scope for Men"}

# for men
#quantile(as.numeric(df_men_c$Penalty), 0.95, na.rm = TRUE)
#quantile(as.numeric(df_men_c$Penalty), 0.51, na.rm = TRUE)

ggplot(data = df_men_c, aes(x = Penalty)) +
  geom_histogram(bins = 30) +
  facet_wrap(~ competition_scope) +
    labs(title = "Penalty Distribution for Men Athletes",
       x = "Penalty",
       y = "Count") +
  theme_light() +
  scale_color_aaas()

```

Why we're using mean for bootstrapping:
The distribution of event scores for women and men are both approximately normally distributed, with the mean and median scores less than 0.5 apart within each gender. 
The mean of women's scores is 12.207, and the median of women's scores is 12.367.
The mean of men's scores is 13.048, and the median of men's scores is 13.233.

```{r score-dist-women, fig.cap="Score Distribution for Women Athletes"}
ggplot(data = df_women_c, aes(x = Score)) +
  geom_histogram() +
  labs(title = "Score Distribution for Women Athletes",
       x = "Score",
       y = "Count") +
  theme_light() +
  scale_color_aaas()


#mean(df_women_c$Score)
#median(df_women_c$Score)

```

```{r score-dist-men, fig.cap="Score Distribution for Male Athletes"}

ggplot(data = df_men_c, aes(x = Score)) +
  geom_histogram() +
  labs(title = "Score Distribution for Men Athletes",
       x = "Score",
       y = "Count") +
  theme_light() +
  scale_color_aaas()

#mean(df_men_c$Score)
#median(df_men_c$Score)

```


Whether scores vary by type of round in competition:
Doesn't seem to vary much; make the assumption that qualification scores are representative of an athlete's scores in the medal rounds

```{r}
ggplot(data = df_women_c, aes(x = Score)) +
  geom_histogram(aes(fill = Round)) +
  labs(title = "Score Distribution for Women Athletes, by Round",
       x = "Score",
       y = "Count")

ggplot(data = df_men_c, aes(x = Score)) +
  geom_histogram(aes(fill = Round)) +
  labs(title = "Score Distribution for Men Athletes, by Round",
       x = "Score",
       y = "Count")

mean(df_women_c$Score)
median(df_women_c$Score)

mean(df_men_c$Score)
median(df_men_c$Score)
```

Execution scores have a higher range than difficulty scores, for both men and women athletes (colored by round but doesn't seem to be much difference based on round):

```{r men-difficulty-dist, fig.cap="Difficulty Score Distribution for Male Athletes"}

ggplot(data = df_men_c, aes(x = D_Score)) +
  geom_histogram(aes(fill = Round)) +
  labs(title = "Difficulty Score Distribution for Male Athletes",
       x = "Score",
       y = "Count")+
  theme_light()+
  scale_fill_aaas()

```

```{r male-execution-dist, fig.cap="Execution Score Distribution for Male Athletes"}

ggplot(data = df_men_c, aes(x = E_Score)) +
  geom_histogram(aes(fill = Round)) +
  labs(title = "Execution Score Distribution for Male Athletes",
       x = "Score",
       y = "Count")+
  theme_light()+
  scale_fill_aaas()


```

```{r women-execution-vs-difficulty}
ggplot(data = df_women_c, aes(x = D_Score)) +
  geom_histogram(aes(fill = Round)) +
  labs(title = "Difficulty Score Distribution for Women Athletes",
       x = "Score",
       y = "Count")+
  theme_light()+
  scale_fill_aaas()

ggplot(data = df_women_c, aes(x = E_Score)) +
  geom_histogram(aes(fill = Round)) +
  labs(title = "Execution Score Distribution for Women Athletes",
       x = "Score",
       y = "Count")+
  theme_light()+
  scale_fill_aaas()
```



```{r diff-quali-v-final-vis-men, fig.cap="Distribution of the Difficulty Score by Round and Apparatus for Men"}

ggplot(data = df_men_c, aes(y = D_Score, fill = Round))+
  geom_boxplot()+
  facet_wrap(.~Apparatus) +
  theme_light()+
  scale_fill_aaas()+  
  labs(
   # title = "Distribution of the Difficulty Score by Round and Apparatus",
   # subtitle = "For Men",
    fill = "Round",
    y = "Difficulty Score"
  )


```
Waiting for competition scope for men
```{r diff-world-v-nonworld-vis-men, fig.cap="Distribution of Difficulty scores by the Scope of Competition and Apparatus for Men"}

ggplot(data = df_men_c, aes(y = D_Score, fill = competition_scope))+
  geom_boxplot()+
  facet_wrap(.~Apparatus)+
  theme_light()+
  scale_fill_aaas()+
  labs(
    #title = "Distribution of Difficulty scores by the Scope of Competition and Apparatus",
    #subtitle = "For Men",
    fill = "Competition Scope",
    y = "Difficulty Score"
  )
```



```{r Score-world-v-nonworld-vis-men, fig.cap="Distribution of Scores by Scope of Competition and Apparatus for Men"}

ggplot(data = df_men_c, aes(y = Score, fill = competition_scope))+
  geom_boxplot()+
  facet_wrap(.~Apparatus)+
  theme_light()+
  scale_fill_aaas()+
  labs(
   # title = "Distribution of Scores by Scope of Competition and Apparatus",
   # subtitle = "For Men",
    fill = "Competition Scope"
  )

```


# Analysis

```{r}
w_team_usa <- filter(df_women_c, 
                     clean_name == "Simone BILES" |
                     clean_name == "Shilese JONES"|
                     clean_name == "Karis GERMAN"|
                     clean_name == "Konnor MCCLAIN"|
                     clean_name == "Jade Carey")

m_team_usa <- filter(df_men_c,
                     clean_name == "Brody MALONE"|
                       clean_name == "Javier ALFONSO"|
                       clean_name == "Curran PHILLIPS"|
                       clean_name == "Frederick RICHARD"|
                       clean_name == "Joshua KARNES")
```

```{r}

ggplot(data = w_team_usa, aes(y= clean_name, x = Rank))+
  geom_boxplot()+
  theme_light()+
  scale_fill_aaas()+
  labs(
    title = "Range of Rank at all competitions",
    subtitle = "For US Women",
    x = "Rank",
    y = "Name"
  )


```
```{r}

ggplot(data = m_team_usa, aes(y= clean_name, x = Rank))+
  geom_boxplot()+
  theme_light()+
  scale_fill_aaas()+
  labs(
    title = "Range of Rank at all competitions",
    subtitle = "For US Men",
    x = "Rank",
    y = "Name"
  )


```
### Citations
[1] https://www.cnbc.com/2021/08/04/simone-biles-return-helped-olympics-viewership-average-16point8-million.html
[2] https://www.cbssports.com/nba/news/2024-paris-olympics-projecting-team-usas-12-man-roster-with-joel-embiid-joining-lebron-james-stephen-curry/
